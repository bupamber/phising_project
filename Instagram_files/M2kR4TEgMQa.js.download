;/*FB_PKG_DELIM*/

__d("PolarisEmailSignupRoot.react",["PolarisAuthActionConstants","PolarisAuthActions","PolarisAuthConstants","PolarisAuthLimitedRegistrationHelpers","PolarisFBConnectHelpers","PolarisLoginAndSignupPage.react","PolarisLoginForceAuthentication.react","PolarisNavigationReferrerUrlSession","PolarisOneTapLogin","PolarisQueryParams","PolarisReactRedux.react","PolarisSignupActions","react","react-compiler-runtime","usePolarisGetQuery","usePolarisGetQueryResponse","withPolarisShell.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useRef,m=new Set([o("PolarisAuthActionConstants").AUTH.fbLogin,o("PolarisAuthActionConstants").AUTH.signup,o("PolarisAuthActionConstants").AUTH.fbConnectV2]);function p(e){var t=o("react-compiler-runtime").c(12),n=e.shouldAutoPickUsername,a=e.shouldEnableShortFirstStep,i=e.shouldShowBirthdayStepInBaseForm,l=e.shouldShowBirthdayTransparency,u=e.shouldShowRedesignedSignupPage,p=r("usePolarisGetQuery")("/api/v1/web/login_page/"),f=r("usePolarisGetQueryResponse")(p),g=d(!1),h=o("PolarisReactRedux.react").useSelector(_),y=o("PolarisReactRedux.react").useSelector(o("PolarisFBConnectHelpers").isFBConnected),C=o("PolarisReactRedux.react").useDispatch();o("PolarisNavigationReferrerUrlSession").useSetReferrerUrlInformation();var b,v;if(t[0]!==h||t[1]!==C||t[2]!==y||t[3]!==f?(b=function(){if(!g.current&&!m.has(h)){var e=o("PolarisQueryParams").parseQueryParams();C(o("PolarisAuthActions").loadLoginOrSignupPage(o("PolarisAuthActionConstants").AUTH.signup,e,y,o("PolarisOneTapLogin").isOneTapLoginEligible(),f.gdpr_required,f.tos_version))}g.current=!0},v=[h,C,y,g,f],t[0]=h,t[1]=C,t[2]=y,t[3]=f,t[4]=b,t[5]=v):(b=t[4],v=t[5]),c(b,v),o("PolarisAuthLimitedRegistrationHelpers").hasRestrictedRegistration()&&C(o("PolarisSignupActions").setShowRegulatoryConsentModal()),!m.has(h))return null;var S;return t[6]!==n||t[7]!==a||t[8]!==i||t[9]!==l||t[10]!==u?(S=s.jsx(r("PolarisLoginAndSignupPage.react"),{pageType:o("PolarisAuthConstants").AuthPageType.Signup,shouldAutoPickUsername:n,shouldEnableShortFirstStep:a,shouldShowBirthdayStepInBaseForm:i,shouldShowBirthdayTransparency:l,shouldShowRedesignedSignupPage:u}),t[6]=n,t[7]=a,t[8]=i,t[9]=l,t[10]=u,t[11]=S):S=t[11],S}function _(e){return e.auth.authType}function f(e){var t=o("react-compiler-runtime").c(8),n=e.props,a=n.routeProps,i=a.force_authentication,l=a.should_auto_pick_username,u=a.should_enable_short_first_step,c=a.should_show_birthday_step_in_base_form,d=a.should_show_birthday_transparency,m=a.should_show_redesigned_signup_page;if(i===!0){var _;return t[0]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(r("PolarisLoginForceAuthentication.react"),{}),t[0]=_):_=t[0],_}else{var f;return t[1]!==e||t[2]!==l||t[3]!==u||t[4]!==c||t[5]!==d||t[6]!==m?(f=s.jsx(p,babelHelpers.extends({shouldAutoPickUsername:l,shouldEnableShortFirstStep:u,shouldShowBirthdayStepInBaseForm:c,shouldShowBirthdayTransparency:d,shouldShowRedesignedSignupPage:m},e)),t[1]=e,t[2]=l,t[3]=u,t[4]=c,t[5]=d,t[6]=m,t[7]=f):f=t[7],f}}var g=r("withPolarisShell.react")(f);l.default=g}),98);